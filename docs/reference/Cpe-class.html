<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>An R6 base class for designs requiring Complete Path Enumeration — Cpe-class • precautionary</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="An R6 base class for designs requiring Complete Path Enumeration — Cpe-class" />
<meta property="og:description" content="An R6 base class for designs requiring Complete Path Enumeration
An R6 base class for designs requiring Complete Path Enumeration" />
<meta property="og:image" content="https://github.com/dcnorris/precautionary/raw/main/docs/card.png" />
<meta property="og:image:alt" content="Logo for precautionary package" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@davidcnorrismd" />
<meta name="twitter:site" content="@davidcnorrismd" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">precautionary</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.2.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/DTP-vs-Korn94.html">DTP-vs-Korn94</a>
    </li>
    <li>
      <a href="../articles/FDA-proactive.html">How FDA can vet dose-escalation trials for safety</a>
    </li>
    <li>
      <a href="../articles/Intro.html">Introduction to package 'precautionary'</a>
    </li>
    <li>
      <a href="../articles/MCSE-Free.html">MCSE-Free CRM Performance and Safety Assessment</a>
    </li>
    <li>
      <a href="../articles/Safety-Schematic-via-CPE.html">Generalized dose-escalation safety schematics via Complete Path Enumeration (CPE)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dcnorris/precautionary/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>An R6 base class for designs requiring Complete Path Enumeration</h1>
    <small class="dont-index">Source: <a href='https://github.com/dcnorris/precautionary/blob/master/R/cpe.R'><code>R/cpe.R</code></a></small>
    <div class="hidden name"><code>Cpe-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An R6 base class for designs requiring Complete Path Enumeration</p>
<p>An R6 base class for designs requiring Complete Path Enumeration</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>TODO: Lots to be said here! The fundamental CPE concept has to be stated,
and implementation strategy discussed as well. If it turns out this class
ends up providing hooks for cacheing, this also needs to be detailed.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This state may in general decrease along a trial path,
as for example with BOIN's dose elimination. (Designs which
do not implement this safety feature may clarify this fact
by overriding (TODO: or deleting?) this method.</p>
<p>Concrete subclasses must implement this abstract method.</p>
<p>If the <code>parallel</code> package were to incorporate the necessary
changes to <code>mclapply</code>, I could restore the following import!</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Norris DC. What Were They Thinking? Pharmacologic priors implicit in
a choice of 3+3 dose-escalation design. arXiv:2012.05301 [stat.ME].
December 2020. <a href='https://arxiv.org/abs/2012.05301'>https://arxiv.org/abs/2012.05301</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>path_matrix</code>, <code>path_table</code>, <code>path_array</code>.</p>
<p><code>trace_paths</code>, which must already have been invoked
if this method is to return a meaningful result.</p>
<p><code>trace_paths</code>, which must already have been invoked
if this method is to return a result.</p></div>
    <h2 class="hasAnchor" id="public-fields"><a class="anchor" href="#public-fields"></a>Public fields</h2>

    <p><div class="r6-fields"></p><dl>
<dt><code>performance</code></dt><dd><p>A vector used for vetting performance</p></dd>

</dl><p></div></p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='public-methods'><a class='anchor' aria-hidden='true' href='#public-methods'></a>Public methods</h3>

<ul>
<li><p><a href='#method-max_dose'><code>Cpe$max_dose()</code></a></p></li>
<li><p><a href='#method-bU'><code>Cpe$bU()</code></a></p></li>
<li><p><a href='#method-J'><code>Cpe$J()</code></a></p></li>
<li><p><a href='#method-applied'><code>Cpe$applied()</code></a></p></li>
<li><p><a href='#method-report'><code>Cpe$report()</code></a></p></li>
<li><p><a href='#method-trace_paths'><code>Cpe$trace_paths()</code></a></p></li>
<li><p><a href='#method-path_matrix'><code>Cpe$path_matrix()</code></a></p></li>
<li><p><a href='#method-path_array'><code>Cpe$path_array()</code></a></p></li>
<li><p><a href='#method-path_probs'><code>Cpe$path_probs()</code></a></p></li>
<li><p><a href='#method-path_rx'><code>Cpe$path_rx()</code></a></p></li>
<li><p><a href='#method-clone'><code>Cpe$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-max_dose"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>max_dose()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>max_dose</span><span class='op'>(</span><span class='va'>D</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>D</code></dt><dd><p>A positive integer, the highest permissible dose.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Set or query upper limit on further dosing</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Self (invisibly), unless <code>D</code> is missing,
in which case the top dose, an integer, is returned.</p>
<h3 class='hasAnchor' id='list-max-dose-'><a class='anchor' aria-hidden='true' href='#list-max-dose-'></a>Method <code>max_dose()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>max_dose</span><span class='op'>(</span><span class='va'>D</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>D</code></dt><dd><p>A positive integer, the highest permissible dose.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Set or query upper limit on further dosing</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Self (invisibly), unless <code>D</code> is missing,
in which case the top dose, an integer, is returned.</p>
<p><hr>
<a id="method-bU"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>bU()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>bU</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Get the <code>b</code> vector and <code>U</code> matrix</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Named list with components <code>b</code> and <code>U</code></p>
<h3 class='hasAnchor' id='list-bu-'><a class='anchor' aria-hidden='true' href='#list-bu-'></a>Method <code>bU()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>bU</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Get the <code>b</code> vector and <code>U</code> matrix</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Named list with components <code>b</code> and <code>U</code></p>
<p><hr>
<a id="method-J"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>J()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>J</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Get the number <code>J</code> of paths</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Integer number of paths</p>
<h3 class='hasAnchor' id='list-j-'><a class='anchor' aria-hidden='true' href='#list-j-'></a>Method <code>J()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>J</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Get the number <code>J</code> of paths</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Integer number of paths</p>
<p><hr>
<a id="method-applied"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>applied()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>applied</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>o</span>, <span class='va'>last_dose</span>, <span class='va'>max_dose</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>x</code></dt><dd><p>A dose-wise vector of toxicity counts</p></dd>

<dt><code>o</code></dt><dd><p>A dose-wise vector of non-toxicity counts</p></dd>

<dt><code>last_dose</code></dt><dd><p>The most recently given dose, as required to implement
cumulative-cohort-based escalation decisions.</p></dd>

<dt><code>max_dose</code></dt><dd><p>An upper limit on future dose levels</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return dose recommendation for given tox/no-tox tallies.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>An object with components:</p><ul>
<li><p><code>$stop</code> - logical value indicating whether stop is indicated</p></li>
<li><p><code>$mtd</code> - integer value, the recommended dose</p></li>
<li><p><code>$max_dose</code> - integer value, a dose not to be exceeded henceforth.</p></li>
</ul>

<h3 class='hasAnchor' id='list-applied-'><a class='anchor' aria-hidden='true' href='#list-applied-'></a>Method <code>applied()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>applied</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>o</span>, <span class='va'>last_dose</span>, <span class='va'>max_dose</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>x</code></dt><dd><p>A dose-wise vector of toxicity counts</p></dd>

<dt><code>o</code></dt><dd><p>A dose-wise vector of non-toxicity counts</p></dd>

<dt><code>last_dose</code></dt><dd><p>The most recently given dose, as required to implement
cumulative-cohort-based escalation decisions.</p></dd>

<dt><code>max_dose</code></dt><dd><p>An upper limit on future dose levels</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return dose recommendation for given tox/no-tox tallies.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>An object with components:</p><ul>
<li><p><code>$stop</code> - logical value indicating whether stop is indicated</p></li>
<li><p><code>$mtd</code> - integer value, the recommended dose</p></li>
<li><p><code>$max_dose</code> - integer value, a dose not to be exceeded henceforth.</p></li>
</ul>

<p><hr>
<a id="method-report"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>report()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>report</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>Optional columns to add to report</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Hook for concrete subclasses to implement for performance reporting
from method <code>Cpe$trace_paths</code></p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>NULL</p>
<h3 class='hasAnchor' id='list-report-'><a class='anchor' aria-hidden='true' href='#list-report-'></a>Method <code>report()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>report</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>Optional columns to add to report</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Hook for concrete subclasses to implement for performance reporting
from method <code>Cpe$trace_paths</code></p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>NULL</p>
<p><hr>
<a id="method-trace_paths"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>trace_paths()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>trace_paths</span><span class='op'>(</span><span class='va'>root_dose</span>, <span class='va'>cohort_sizes</span>, <span class='va'>...</span>, prog <span class='op'>=</span> <span class='cn'>NULL</span>, unroll <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>root_dose</code></dt><dd><p>The starting dose for tree of paths</p></dd>

<dt><code>cohort_sizes</code></dt><dd><p>Integer vector giving sizes of future cohorts,
its length being the maximum number of cohorts to look ahead.</p></dd>

<dt><code>...</code></dt><dd><p>Parameters passed ultimately to <code>mclapply</code>, presently
an unexported, specially adapted version of <code><a href='https://rdrr.io/r/parallel/mclapply.html'>parallel::mclapply</a></code>
that implements progress reporting.</p></dd>

<dt><code>prog</code></dt><dd><p>A function of a single integer, the current cumulative
path count, to be used for progress reporting</p></dd>

<dt><code>unroll</code></dt><dd><p>Integer; how deep to unroll path tree for parallelism</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Compute trial paths forward from current tally</p>
<p>The computed paths are saved in a private field, from which variously
formatted results may be obtained by accessor functions.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Self, invisibly</p>
<h3 class='hasAnchor' id='list-trace-paths-'><a class='anchor' aria-hidden='true' href='#list-trace-paths-'></a>Method <code>trace_paths()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>trace_paths</span><span class='op'>(</span><span class='va'>root_dose</span>, <span class='va'>cohort_sizes</span>, <span class='va'>...</span>, prog <span class='op'>=</span> <span class='cn'>NULL</span>, unroll <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>root_dose</code></dt><dd><p>The starting dose for tree of paths</p></dd>

<dt><code>cohort_sizes</code></dt><dd><p>Integer vector giving sizes of future cohorts,
its length being the maximum number of cohorts to look ahead.</p></dd>

<dt><code>...</code></dt><dd><p>Parameters passed ultimately to <code>mclapply</code>, presently
an unexported, specially adapted version of <code><a href='https://rdrr.io/r/parallel/mclapply.html'>parallel::mclapply</a></code>
that implements progress reporting.</p></dd>

<dt><code>prog</code></dt><dd><p>A function of a single integer, the current cumulative
path count, to be used for progress reporting</p></dd>

<dt><code>unroll</code></dt><dd><p>Integer; how deep to unroll path tree for parallelism</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Compute trial paths forward from current tally</p>
<p>The computed paths are saved in a private field, from which variously
formatted results may be obtained by accessor functions.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Self, invisibly</p>
<p><hr>
<a id="method-path_matrix"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>path_matrix()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_matrix</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return computed trial paths in matrix form</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>An integer matrix with the same column layout as the
DTP tables of <a href='https://CRAN.R-project.org/package=dtpcrm'><span class="pkg">dtpcrm</span></a>. That is, there is a D0 column
followed by paired Tc, Dc columns giving the toxicity count
for cohort c and the resulting dose recommendation <em>yielded by</em>
cohort c -- which is generally the recommendation <em>for</em> cohort
c+1.</p>
<h3 class='hasAnchor' id='list-path-matrix-'><a class='anchor' aria-hidden='true' href='#list-path-matrix-'></a>Method <code>path_matrix()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_matrix</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return computed trial paths in matrix form</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>An integer matrix with the same column layout as the
DTP tables of <a href='https://CRAN.R-project.org/package=dtpcrm'><span class="pkg">dtpcrm</span></a>. That is, there is a D0 column
followed by paired Tc, Dc columns giving the toxicity count
for cohort c and the resulting dose recommendation <em>yielded by</em>
cohort c -- which is generally the recommendation <em>for</em> cohort
c+1.</p>
<p><hr>
<a id="method-path_array"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>path_array()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_array</span><span class='op'>(</span>condense <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>condense</code></dt><dd><p>Logical value; if FALSE, the returned array has its
cohorts indexed trial-wise instead of dose-wise. This inflates the
array more than needed for the matrix computations it must support
(observe that in Norris2020c Eq. (4), the <code>c</code> index is eliminated
already by summation), but enables the sequence of events along a path
to be read off directly if this is required e.g. for visualization or
debugging. Default is TRUE.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return computed trial paths in a 3D array</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>For the <code>j</code>th path, the C*D matrix <code>T[j,,]</code> gives
the number of toxicities <code>T[j,c,d]</code> occurring in the <code>c</code>th
cohort for dose d. In case <code>condense=FALSE</code>, see above.</p>
<h3 class='hasAnchor' id='list-path-array-'><a class='anchor' aria-hidden='true' href='#list-path-array-'></a>Method <code>path_array()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_array</span><span class='op'>(</span>condense <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>condense</code></dt><dd><p>Logical value; if FALSE, the returned array has its
cohorts indexed trial-wise instead of dose-wise. This inflates the
array more than needed for the matrix computations it must support
(observe that in Norris2020c Eq. (4), the <code>c</code> index is eliminated
already by summation), but enables the sequence of events along a path
to be read off directly if this is required e.g. for visualization or
debugging. Default is TRUE.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Return computed trial paths in a 3D array</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>For the <code>j</code>th path, the C*D matrix <code>T[j,,]</code> gives
the number of toxicities <code>T[j,c,d]</code> occurring in the <code>c</code>th
cohort for dose d. In case <code>condense=FALSE</code>, see above.</p>
<p><hr>
<a id="method-path_probs"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>path_probs()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_probs</span><span class='op'>(</span><span class='va'>probs.DLT</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>probs.DLT</code></dt><dd><p>Numeric vector of DLT probabilities for the design's
prespecified doses.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Path probabilities for given dose-wise DLT probabilities</p>
<p>The design's paths must already have been completely enumerated by
<code>trace_paths</code>.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>A vector of probabilities for the enumerated paths</p>
<h3 class='hasAnchor' id='list-path-probs-'><a class='anchor' aria-hidden='true' href='#list-path-probs-'></a>Method <code>path_probs()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_probs</span><span class='op'>(</span><span class='va'>probs.DLT</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>probs.DLT</code></dt><dd><p>Numeric vector of DLT probabilities for the design's
prespecified doses.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Path probabilities for given dose-wise DLT probabilities</p>
<p>The design's paths must already have been completely enumerated by
<code>trace_paths</code>.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>A vector of probabilities for the enumerated paths</p>
<p><hr>
<a id="method-path_rx"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>path_rx()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_rx</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Vector of path-wise final dose recommendations</p>
<p>The design's paths must already have been completely enumerated by
<code>trace_paths</code>. This method is a temporizing measure, bridging
to a new format for the return value of <code>path_matrix</code>, possibly
a <code>data.table</code> where the dose recs would be a column.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Integer vector of final dose recs on the enumerated paths</p>
<h3 class='hasAnchor' id='list-path-rx-'><a class='anchor' aria-hidden='true' href='#list-path-rx-'></a>Method <code>path_rx()</code></h3>

<h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>path_rx</span><span class='op'>(</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='details'><a class='anchor' aria-hidden='true' href='#details'></a>Details</h4>
<p>Vector of path-wise final dose recommendations</p>
<p>The design's paths must already have been completely enumerated by
<code>trace_paths</code>. This method is a temporizing measure, bridging
to a new format for the return value of <code>path_matrix</code>, possibly
a <code>data.table</code> where the dose recs would be a column.</p>

<h4 class='hasAnchor' id='returns'><a class='anchor' aria-hidden='true' href='#returns'></a>Returns</h4>
<p>Integer vector of final dose recs on the enumerated paths</p>
<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='method-'><a class='anchor' aria-hidden='true' href='#method-'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>
<h3 class='hasAnchor' id='list-clone-'><a class='anchor' aria-hidden='true' href='#list-clone-'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='usage'><a class='anchor' aria-hidden='true' href='#usage'></a>Usage</h4>
<p><div class="r"></p><pre class='sourceCode r'><code><span class='va'>Cpe</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></code></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' aria-hidden='true' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by David C. Norris.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


