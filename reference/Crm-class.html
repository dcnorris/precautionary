<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>An R6 class encapsulating CRM models

This class wraps the functionality of package dfcrm, adding
efficient Rust implementations of some numerical routines. — Crm-class • precautionary</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="An R6 class encapsulating CRM models

This class wraps the functionality of package dfcrm, adding
efficient Rust implementations of some numerical routines. — Crm-class"><meta property="og:description" content="An R6 class encapsulating CRM models
This class wraps the functionality of package dfcrm, adding
efficient Rust implementations of some numerical routines.
An R6 class encapsulating CRM models
This class wraps the functionality of package dfcrm, adding
efficient Rust implementations of some numerical routines."><meta property="og:image" content="https://github.com/dcnorris/precautionary/raw/main/docs/card.png"><meta property="og:image:alt" content="Logo for precautionary package"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@davidcnorrismd"><meta name="twitter:site" content="@davidcnorrismd"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">precautionary</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.2.6-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/DTP-vs-Korn94.html">DTP-vs-Korn94</a>
    </li>
    <li>
      <a href="../articles/FDA-proactive.html">How FDA can vet dose-escalation trials for safety</a>
    </li>
    <li>
      <a href="../articles/Intro.html">Introduction to package 'precautionary'</a>
    </li>
    <li>
      <a href="../articles/MCSE-Free.html">MCSE-Free CRM Performance and Safety Assessment</a>
    </li>
    <li>
      <a href="../articles/Safety-Schematic-via-CPE.html">Generalized dose-escalation safety schematics via Complete Path Enumeration (CPE)</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dcnorris/precautionary/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>An R6 class encapsulating CRM models

This class wraps the functionality of package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a>, adding
efficient Rust implementations of some numerical routines.</h1>
    <small class="dont-index">Source: <a href="https://github.com/dcnorris/precautionary/blob/HEAD/R/crm.R" class="external-link"><code>R/crm.R</code></a></small>
    <div class="hidden name"><code>Crm-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An R6 class encapsulating CRM models</p>
<p>This class wraps the functionality of package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a>, adding
efficient Rust implementations of some numerical routines.</p>
<p>An R6 class encapsulating CRM models</p>
<p>This class wraps the functionality of package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a>, adding
efficient Rust implementations of some numerical routines.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>Syntactically, the method chaining supported by R6 classes makes the
invocation of CRM models more transparent. The mutability conferred
by reference semantics enables memoization (caching) of results, which
can speed up DTP calculations significantly.</p>
<p>Presently, this class supports only the 'empiric' (aka 'power') model.
But it is hoped that inheritance will assist in rendering other models
implemented in package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a> clearly, with code reuse.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>This specializes the superclass set/get method, consistent
with the non-mutable number of doses of CRM with fixed skeleton.</p>
    </div>
    <div id="super-class">
    <h2>Super class</h2>
    <p><code><a href="Cpe-class.html">precautionary::Cpe</a></code> -&gt; <code>Crm</code></p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>Crm$new()</code></a></p></li>
<li><p><a href="#method-max_dose"><code>Crm$max_dose()</code></a></p></li>
<li><p><a href="#method-skeleton"><code>Crm$skeleton()</code></a></p></li>
<li><p><a href="#method-dontcache"><code>Crm$dontcache()</code></a></p></li>
<li><p><a href="#method-report"><code>Crm$report()</code></a></p></li>
<li><p><a href="#method-stop_func"><code>Crm$stop_func()</code></a></p></li>
<li><p><a href="#method-no_skip_esc"><code>Crm$no_skip_esc()</code></a></p></li>
<li><p><a href="#method-no_skip_deesc"><code>Crm$no_skip_deesc()</code></a></p></li>
<li><p><a href="#method-global_coherent_esc"><code>Crm$global_coherent_esc()</code></a></p></li>
<li><p><a href="#method-conf_level"><code>Crm$conf_level()</code></a></p></li>
<li><p><a href="#method-observe"><code>Crm$observe()</code></a></p></li>
<li><p><a href="#method-tally"><code>Crm$tally()</code></a></p></li>
<li><p><a href="#method-est"><code>Crm$est()</code></a></p></li>
<li><p><a href="#method-applied"><code>Crm$applied()</code></a></p></li>
<li><p><a href="#method-clone"><code>Crm$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="J"><a href="Cpe.html#method-J"><code>precautionary::Cpe$J()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="bU"><a href="Cpe.html#method-bU"><code>precautionary::Cpe$bU()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="decision_array"><a href="Cpe.html#method-decision_array"><code>precautionary::Cpe$decision_array()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="path_array"><a href="Cpe.html#method-path_array"><code>precautionary::Cpe$path_array()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="path_matrix"><a href="Cpe.html#method-path_matrix"><code>precautionary::Cpe$path_matrix()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="path_probs"><a href="Cpe.html#method-path_probs"><code>precautionary::Cpe$path_probs()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="path_rx"><a href="Cpe.html#method-path_rx"><code>precautionary::Cpe$path_rx()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="precautionary" data-topic="Cpe" data-id="trace_paths"><a href="Cpe.html#method-trace_paths"><code>precautionary::Cpe$trace_paths()</code></a></span></p></li>
</ul></details></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/Crm-class.html">Crm</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">skeleton</span>, scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1.34</span><span class="op">)</span>, <span class="va">target</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>skeleton</code></dt>
<dd><p>CRM skeleton</p></dd>


<dt><code>scale</code></dt>
<dd><p>Sigma parameter of prior on beta parameter</p></dd>


<dt><code>target</code></dt>
<dd><p>Target toxicity rate</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>Create a new <code>Crm</code> object.</p>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A <code>Crm</code> object.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span class="co"># An example verbatim from dfcrm::crm()</span>
<span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="fl">0.20</span>, <span class="fl">0.35</span>, <span class="fl">0.50</span>, <span class="fl">0.70</span><span class="op">)</span>
<span class="va">target</span> <span class="op">&lt;-</span> <span class="fl">0.2</span>
<span class="va">level</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>
<span class="va">y</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>
<span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1.34</span><span class="op">)</span>
<span class="va">old</span> <span class="op">&lt;-</span> <span class="fu">dfcrm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dfcrm/man/crm.html" class="external-link">crm</a></span><span class="op">(</span><span class="va">prior</span>, <span class="va">target</span>, <span class="va">y</span>, <span class="va">level</span><span class="op">)</span>
<span class="va">new</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Crm-class.html">Crm</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>skeleton <span class="op">=</span> <span class="va">prior</span>, target <span class="op">=</span> <span class="va">target</span><span class="op">)</span><span class="op">$</span>
         <span class="fu">dontcache</span><span class="op">(</span><span class="op">)</span><span class="op">$</span>
         <span class="fu">observe</span><span class="op">(</span><span class="va">level</span>, <span class="va">y</span><span class="op">)</span><span class="op">$</span>
         <span class="fu">est</span><span class="op">(</span>impl<span class="op">=</span><span class="st">"rusti"</span>, abbrev<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-max_dose"></a><div class="section">
<h3 id="method-max-dose-">Method <code>max_dose()</code><a class="anchor" aria-label="anchor" href="#method-max-dose-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">max_dose</span><span class="op">(</span><span class="va">D</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>D</code></dt>
<dd><p>Included to match signature of superclass method.
It is an error to call this method with non-missing <code>D</code> parameter.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Return number of prespecified doses</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Length of CRM skeleton.</p>
</div>

</div><p></p><hr><a id="method-skeleton"></a><div class="section">
<h3 id="method-skeleton-">Method <code>skeleton()</code><a class="anchor" aria-label="anchor" href="#method-skeleton-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">skeleton</span><span class="op">(</span><span class="va">skeleton</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>skeleton</code></dt>
<dd><p>A numeric vector to set as the model skeleton.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>Set or query CRM skeleton</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Self (invisibly), unless <code>skeleton</code> is missing,
in which case the skeleton, a numeric vector, is returned.</p>
</div>

</div><p></p><hr><a id="method-dontcache"></a><div class="section">
<h3 id="method-dontcache-">Method <code>dontcache()</code><a class="anchor" aria-label="anchor" href="#method-dontcache-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">dontcache</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>Set private cache to NULL; useful for performance testing</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-report"></a><div class="section">
<h3 id="method-report-">Method <code>report()</code><a class="anchor" aria-label="anchor" href="#method-report-"></a></h3>

<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">report</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Optional arguments specifying columns to add to report</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>Report lifetime duty &amp; performance statistics</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A named vector summarizing lifetime duty and performance</p>
</div>

</div><p></p><hr><a id="method-stop_func"></a><div class="section">
<h3 id="method-stop-func-">Method <code>stop_func()</code><a class="anchor" aria-label="anchor" href="#method-stop-func-"></a></h3>

<div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">stop_func</span><span class="op">(</span><span class="va">sfunc</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sfunc</code></dt>
<dd><p>A function taking <code>mtd</code> objects to <code>mtd</code> objects,
attaching suitable stopping information</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p>Set the stopping function</p>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-no_skip_esc"></a><div class="section">
<h3 id="method-no-skip-esc-">Method <code>no_skip_esc()</code><a class="anchor" aria-label="anchor" href="#method-no-skip-esc-"></a></h3>

<div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">no_skip_esc</span><span class="op">(</span><span class="va">tf</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tf</code></dt>
<dd><p>An atomic logical value, TRUE or FALSE</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p>Set the <code>no_skip_esc</code> behavior</p>
</div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-no_skip_deesc"></a><div class="section">
<h3 id="method-no-skip-deesc-">Method <code>no_skip_deesc()</code><a class="anchor" aria-label="anchor" href="#method-no-skip-deesc-"></a></h3>

<div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">no_skip_deesc</span><span class="op">(</span><span class="va">tf</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tf</code></dt>
<dd><p>An atomic logical value, TRUE or FALSE</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p>Set the <code>no_skip_deesc</code> behavior</p>
</div>

<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-global_coherent_esc"></a><div class="section">
<h3 id="method-global-coherent-esc-">Method <code>global_coherent_esc()</code><a class="anchor" aria-label="anchor" href="#method-global-coherent-esc-"></a></h3>

<div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">global_coherent_esc</span><span class="op">(</span><span class="va">tf</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tf</code></dt>
<dd><p>An atomic logical value, TRUE or FALSE</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-8">Details<a class="anchor" aria-label="anchor" href="#details-8"></a></h4>
<p>Set the <code>global_coherent_esc</code> behavior</p>
</div>

<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-conf_level"></a><div class="section">
<h3 id="method-conf-level-">Method <code>conf_level()</code><a class="anchor" aria-label="anchor" href="#method-conf-level-"></a></h3>

<div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">conf_level</span><span class="op">(</span><span class="va">conf</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>conf</code></dt>
<dd><p>A numeric confidence less than 1.0</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-9">Details<a class="anchor" aria-label="anchor" href="#details-9"></a></h4>
<p>Set the required confidence level for escalation decisions</p>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-observe"></a><div class="section">
<h3 id="method-observe-">Method <code>observe()</code><a class="anchor" aria-label="anchor" href="#method-observe-"></a></h3>

<div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">observe</span><span class="op">(</span><span class="va">level</span>, <span class="va">tox</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>level</code></dt>
<dd><p>A patient-wise vector of dose assignments</p></dd>


<dt><code>tox</code></dt>
<dd><p>A patient-wise vector of 0/1 toxicity assessments</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-10">Details<a class="anchor" aria-label="anchor" href="#details-10"></a></h4>
<p>Set patient-wise toxicity observations</p>
</div>

<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-tally"></a><div class="section">
<h3 id="method-tally-">Method <code>tally()</code><a class="anchor" aria-label="anchor" href="#method-tally-"></a></h3>

<div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">tally</span><span class="op">(</span><span class="va">x</span>, <span class="va">o</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>A dose-wise vector of toxicity counts</p></dd>


<dt><code>o</code></dt>
<dd><p>A dose-wise vector of non-toxicity counts</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-11">Details<a class="anchor" aria-label="anchor" href="#details-11"></a></h4>
<p>Set dose-wise toxicity observations</p>
</div>

<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>Self, invisibly</p>
</div>

</div><p></p><hr><a id="method-est"></a><div class="section">
<h3 id="method-est-">Method <code>est()</code><a class="anchor" aria-label="anchor" href="#method-est-"></a></h3>

<div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">est</span><span class="op">(</span>impl <span class="op">=</span> <span class="st">"rusti"</span>, abbrev <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>impl</code></dt>
<dd><p>A string choosing the low-level implementation to use.
Possible values include <code>"dfcrm"</code>, <code>"rusti"</code> and <code>"ruste"</code>.</p></dd>


<dt><code>abbrev</code></dt>
<dd><p>Logical; if TRUE (the default), an abbreviated <code>mtd</code>
object is returned to save execution time. If FALSE, a complete object is
returned, suitable for regression testing against package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-12">Details<a class="anchor" aria-label="anchor" href="#details-12"></a></h4>
<p>Estimate the model</p>
</div>

<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>An object of class <code>mtd</code> as per package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a></p>
</div>

</div><p></p><hr><a id="method-applied"></a><div class="section">
<h3 id="method-applied-">Method <code>applied()</code><a class="anchor" aria-label="anchor" href="#method-applied-"></a></h3>

<div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">applied</span><span class="op">(</span><span class="va">x</span>, <span class="va">o</span>, last_dose <span class="op">=</span> <span class="cn">NA</span>, max_dose <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>x</code></dt>
<dd><p>A dose-wise vector of toxicity counts</p></dd>


<dt><code>o</code></dt>
<dd><p>A dose-wise vector of non-toxicity counts</p></dd>


<dt><code>last_dose</code></dt>
<dd><p>The most recently given dose, as required to implement
the <code>global_coherent_esc=TRUE</code> behavior</p></dd>


<dt><code>max_dose</code></dt>
<dd><p>Unused; included for compatibility with superclass method
of required <code>impl</code> parameter and optional <code>abbrev</code> flag.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-13">Details<a class="anchor" aria-label="anchor" href="#details-13"></a></h4>
<p>Return dose recommendation for given tox/no-tox tallies.</p>
<p>This function caches results, which greatly saves computation time
in CPE -- yielding e.g. a 5x speedup for the VIOLA trial example.</p>
</div>

<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>An object of class <code>mtd</code> as per package <a href="https://CRAN.R-project.org/package=dfcrm" class="external-link"><span class="pkg">dfcrm</span></a>,
or possibly an abbreviated version of such object as returned by
method <code>Crm$est()</code>.</p>
</div>

</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Crm</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"><span class="co">## Method `Crm$new`</span></span>
<span class="r-in"><span class="co">## ------------------------------------------------</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># An example verbatim from dfcrm::crm()</span></span>
<span class="r-in"><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="fl">0.20</span>, <span class="fl">0.35</span>, <span class="fl">0.50</span>, <span class="fl">0.70</span><span class="op">)</span></span>
<span class="r-in"><span class="va">target</span> <span class="op">&lt;-</span> <span class="fl">0.2</span></span>
<span class="r-in"><span class="va">level</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">y</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span>
<span class="r-in"><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1.34</span><span class="op">)</span></span>
<span class="r-in"><span class="va">old</span> <span class="op">&lt;-</span> <span class="fu">dfcrm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dfcrm/man/crm.html" class="external-link">crm</a></span><span class="op">(</span><span class="va">prior</span>, <span class="va">target</span>, <span class="va">y</span>, <span class="va">level</span><span class="op">)</span></span>
<span class="r-in"><span class="va">new</span> <span class="op">&lt;-</span> <span class="va">Crm</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>skeleton <span class="op">=</span> <span class="va">prior</span>, target <span class="op">=</span> <span class="va">target</span><span class="op">)</span><span class="op">$</span></span>
<span class="r-in">         <span class="fu">dontcache</span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span class="r-in">         <span class="fu">observe</span><span class="op">(</span><span class="va">level</span>, <span class="va">y</span><span class="op">)</span><span class="op">$</span></span>
<span class="r-in">         <span class="fu">est</span><span class="op">(</span>impl<span class="op">=</span><span class="st">"rusti"</span>, abbrev<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David C. Norris.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

